---
import { loadQuery } from '../../sanity/lib/load-query.js'
import LayoutShort from '../../layouts/LayoutShort.astro'

export async function getStaticPaths() {
    const { data: posts } = await loadQuery({query: `*[_type == "post"]`, params: {}});

    return posts.map(( { slug }) => {
        return {
            params: {
                slug: slug.current,
            },
        };

    });
}

const { slug } = Astro.params;

const { data: post } = await loadQuery({
    query: `*[_type == "post" && slug.current == $slug][0]`,
    params: { slug: slug },
});

---

<LayoutShort title="Logickal - JRNL">
    <div class="flex flex-col items-center justify-center">
		<div class="w-9/12 p-32 bg-gray-800  text-gray-600 bg-gradient-to-b from-black min-h-screen mb-5 text-center">
            <h1>JRNL</h1>
            <h2>{post.title}</h2>
        </div>
  </div>